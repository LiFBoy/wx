/*!
 * jmessage-sdk-web.js
 * http://docs.jiguang.cn/client/im_sdk_js/
 * Version: 1.1.0
 *
 * Copyright 2016 jiguang
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JIM=e()}}(function(){return function e(t,n,i){function o(r,_){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!_&&c)return c(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var a=n[r]={exports:{}};t[r][0].call(a.exports,function(e){var n=t[r][1][e];return o(n?n:e)},a,a.exports,e,t,n,i)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){"use strict";var i=e(3)();t.exports=function(){function e(e,n){n.on(e.events.ACK,function(e){r&&console.log("ack:"+JSON.stringify(e));var t,n;p[e.rid]&&(clearTimeout(p[e.rid].time_out_task),t=p[e.rid].ack_callback,n=p[e.rid].resp_callback),t&&t(e),!n&&delete p[e.rid]}),n.on(e.events.INIT,function(n){t(e.events.INIT,n)}),n.on(e.events.REGISTER,function(n){t(e.events.REGISTER,n)}),n.on(e.events.LOGIN,function(n){t(e.events.LOGIN,n)}),n.on(e.events.GET_USER_INFO,function(n){t(e.events.GET_USER_INFO,n)}),n.on(e.events.GET_ACROSS_USER_INFO,function(n){t(e.events.GET_ACROSS_USER_INFO,n)}),n.on(e.events.S_SINGLE_TEXT,function(n){t(e.events.S_SINGLE_TEXT,n)}),n.on(e.events.S_ACROSS_SINGLE_TEXT,function(n){t(e.events.S_ACROSS_SINGLE_TEXT,n)}),n.on(e.events.SEND_GROUP_MSG,function(n){t(e.events.SEND_GROUP_MSG,n)}),n.on(e.events.CREATE_GROUP,function(n){t(e.events.CREATE_GROUP,n)}),n.on(e.events.GET_GROUPS_LIST,function(n){t(e.events.GET_GROUPS_LIST,n)}),n.on(e.events.GET_GROUP_INFO,function(n){t(e.events.GET_GROUP_INFO,n)}),n.on(e.events.ADD_GROUP_MEMBER,function(n){t(e.events.ADD_GROUP_MEMBER,n)}),n.on(e.events.ADD_ACROSS_GROUP_MEMBER,function(n){t(e.events.ADD_ACROSS_GROUP_MEMBER,n)}),n.on(e.events.DEL_GROUP_MEMBER,function(n){t(e.events.DEL_GROUP_MEMBER,n)}),n.on(e.events.DEL_ACROSS_GROUP_MEMBER,function(n){t(e.events.DEL_ACROSS_GROUP_MEMBER,n)}),n.on(e.events.GET_GROUP_MEMBERS,function(n){t(e.events.GET_GROUP_MEMBERS,n)}),n.on(e.events.UPDATE_GROUP_INFO,function(n){t(e.events.UPDATE_GROUP_INFO,n)}),n.on(e.events.EXIT_GROUP,function(n){t(e.events.EXIT_GROUP,n)}),n.on(e.events.GET_CONVERSATIONS,function(n){t(e.events.GET_CONVERSATIONS,n)}),n.on(e.events.NO_DISTURB,function(n){t(e.events.NO_DISTURB,n)}),n.on(e.events.ADD_MSG_NO_DISTURB_SINGLE,function(n){t(e.events.ADD_MSG_NO_DISTURB_SINGLE,n)}),n.on(e.events.DELETE_MSG_NO_DISTURB_SINGLE,function(n){t(e.events.DELETE_MSG_NO_DISTURB_SINGLE,n)}),n.on(e.events.ADD_MSG_NO_DISTURB_GROUP,function(n){t(e.events.ADD_MSG_NO_DISTURB_GROUP,n)}),n.on(e.events.DELETE_MSG_NO_DISTURB_GROUP,function(n){t(e.events.DELETE_MSG_NO_DISTURB_GROUP,n)}),n.on(e.events.ADD_MSG_NO_DISTURB_GLOBAL,function(n){t(e.events.ADD_MSG_NO_DISTURB_GLOBAL,n)}),n.on(e.events.DELETE_MSG_NO_DISTURB_GLOBAL,function(n){t(e.events.DELETE_MSG_NO_DISTURB_GLOBAL,n)}),n.on(e.events.GET_UPLOAD_TOKEN,function(n){t(e.events.GET_UPLOAD_TOKEN,n)}),n.on(e.events.GET_BLACK_LIST,function(n){t(e.events.GET_BLACK_LIST,n)}),n.on(e.events.ADD_BLACK_LIST,function(n){t(e.events.ADD_BLACK_LIST,n)}),n.on(e.events.DEL_BLACK_LIST,function(n){t(e.events.DEL_BLACK_LIST,n)}),n.on(e.events.REGISTER,function(n){t(e.events.REGISTER,n)})}function t(e,t){r&&console.log(e+":"+JSON.stringify(t));var n;t.rid&&p[t.rid]&&(n=p[t.rid].resp_callback,n&&n(t),delete p[t.rid])}function n(e){this.client=e,this.version=1,this.from_platform="web",this.from_appkey=s}var o,s,r,_,c,u,a,g=function(){this.version="1.0.0"},f="http://media.file.jpush.cn/",m=1,p={},d={},l=g.prototype;return l.events={ACK:"ack",INIT:"c_init",LOGIN:"login",LOGOUT:"logout",GET_USER_INFO:"get_user_info",GET_ACROSS_USER_INFO:"get_across_user_info",S_SINGLE_TEXT:"s_single_text",S_ACROSS_SINGLE_TEXT:"s_across_single_text",MSG_SYNC:"msg_sync",MSG_RECV:"msg_recv",SEND_GROUP_MSG:"send_group_msg",CREATE_GROUP:"create_group",GET_GROUPS_LIST:"get_groups_list",GET_GROUP_INFO:"get_group_info",ADD_GROUP_MEMBER:"add_group_member",ADD_ACROSS_GROUP_MEMBER:"add_across_group_member",DEL_GROUP_MEMBER:"del_group_member",DEL_ACROSS_GROUP_MEMBER:"del_across_group_member",GET_GROUP_MEMBERS:"get_group_members",UPDATE_GROUP_INFO:"update_group_info",EXIT_GROUP:"exit_group",EVENT_NOTIFICATION:"event_notification",GET_CONVERSATIONS:"get_conversations",GET_UPLOAD_TOKEN:"get_upload_token",NO_DISTURB:"no_disturb",ADD_MSG_NO_DISTURB_SINGLE:"add_msg_no_disturb_single",DELETE_MSG_NO_DISTURB_SINGLE:"delete_msg_no_disturb_single",ADD_MSG_NO_DISTURB_GROUP:"add_msg_no_disturb_group",DELETE_MSG_NO_DISTURB_GROUP:"delete_msg_no_disturb_group",ADD_MSG_NO_DISTURB_GLOBAL:"add_msg_no_disturb_global",DELETE_MSG_NO_DISTURB_GLOBAL:"delete_msg_no_disturb_global",DISCONNECT:"disconnect",GET_BLACK_LIST:"get_black_list",ADD_BLACK_LIST:"add_black_list",DEL_BLACK_LIST:"del_black_list",REGISTER:"register"},l.init=function(e){var t=e?e:{};c=window.WebSocket?["websocket"]:["polling"],r=t.debug?t.debug:!1,o=t.address?t.address:"wss://ws.im.jpush.cn",u=t.debug?3:0,_=t.timeout?t.timeout:3e4,r&&console.log("transport with:"+c)},l.register=function(t,n,s,g,f,m,p){if(!c||!o||!_)return console.error("必须先执行JIM.init()才可以进行JIM.register()操作");var d=this;r&&console.log("connect to "+o),a=io(o,{transports:c,reconnection:!0,autoConnect:!0,"force new connection":!0,reconnectionDelay:500,reconnectionDelayMax:1e3,timeout:_,"max reconnection attempts":1,"log level":u}),e(this,a),d.emitWithResp(d.events.INIT,s,function(e){e&&0==e.code?d.emitWithResp(d.events.REGISTER,{username:t,password:p?n:i(n)},function(e){g&&g(e)},f,m):(r&&console.log("init fail : "+JSON.stringify(e)),g&&g(e))},null,m),a&&d.onMsgReceive(g)},l.login=function(t,n,g,f,m,p,l){if(console.log("log"),!c||!o||!_)return console.error("必须先执行JIM.init()才可以进行JIM.login()操作");var E=this;s=g.appkey,r&&console.log("connect to "+o),a=io(o,{transports:c,reconnection:!0,autoConnect:!0,"force new connection":!0,reconnectionDelay:500,reconnectionDelayMax:1e3,timeout:_,"max reconnection attempts":1,"log level":u}),e(this,a),E.emitWithResp(E.events.INIT,g,function(e){e&&0==e.code?E.emitWithResp(E.events.LOGIN,{username:t,password:l?n:i(n)},function(e){e&&e.username?(d.state="online",d.username=e.username,f&&f(e)):e&&f&&resp(e)},m,p):(r&&console.log("init fail : "+JSON.stringify(e)),f&&f(e))},null,p),a&&E.onMsgReceive(f)},l.getUserInfo=function(e,t,n,i){var o=this;o.emitWithResp(o.events.GET_USER_INFO,{key:e},t,n,i)},l.getAcrossUserInfo=function(e,t,n,i,o){var s=this;s.emitWithResp(s.events.GET_ACROSS_USER_INFO,{key:e,appkey:t},n,i,o)},l.sendSingleMsg=function(e,t,i,o,s){new n(this).setType("single").setTarget(e).setText(t).send(i,o,s)},l.sendAcrossSingleMsg=function(e,t,i,o,s,r){new n(this).setType("across_single").setTarget(e).setAppkey(t).setText(i).send(o,s,r)},l.getUploadToken=function(e,t,n){var i=this;i.emitWithResp(i.events.GET_UPLOAD_TOKEN,{},e,t,n)},l.uploadImg=function(e){if(e.appkey)t=e.appkey;else var t=s;var n=new XMLHttpRequest;n.open("POST","http://sdk.im.jpush.cn/resource?type=image"),n.setRequestHeader("X-App-Key",s),n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){console.log(this.responseText);var n=JSON.parse(this.responseText);"single"==e.type?l.sendSinglePic(e.target_username,t,n,e.resp,e.ack,e.timeout):l.sendGroupPic(e.target_gid,n,e.resp,e.ack,e.timeout)}},n.send(e.fd)},l.sendSinglePic=function(e,t,i,o,s,r){new n(this).setType("across_single").setTarget(e).setAppkey(t).setImage(i).send(o,s,r)},l.sendGroupPic=function(e,t,i,o,s){new n(this).setType("group").setTarget(e).setImage(t).send(i,o,s)},l.sendGroupMsg=function(e,t,i,o,s){new n(this).setType("group").setTarget(e).setText(t).send(i,o,s)},l.sendSinglePic=function(e,t,i,o,s,r){new n(this).setType("across_single").setTarget(e).setAppkey(t).setImage(i).send(o,s,r)},l.createMsgBuilder=function(){return new n(this)},l.createGroup=function(e,t,n,i,o){var s=this;s.emitWithResp(s.events.CREATE_GROUP,{group_name:e,group_description:t},n,i,o)},l.getGroupList=function(e,t,n){var i=this;i.emitWithResp(i.events.GET_GROUPS_LIST,{},e,t,n)},l.getGroupInfo=function(e,t,n,i){var o=this;o.emitWithResp(o.events.GET_GROUP_INFO,{gid:e.toString()},t,n,i)},l.addGroupMember=function(e,t,n,i,o){var s=this;s.emitWithResp(s.events.ADD_GROUP_MEMBER,{gid:e.toString(),member_usernames:t},n,i,o)},l.addAcrossGroupMember=function(e,t,n,i,o){var s=this;s.emitWithResp(s.events.ADD_ACROSS_GROUP_MEMBER,{gid:e.toString(),member_usernames:t},n,i,o)},l.delGroupMember=function(e,t,n,i,o){var s=this;s.emitWithResp(s.events.DEL_GROUP_MEMBER,{gid:e.toString(),member_usernames:t},n,i,o)},l.delAcrossGroupMember=function(e,t,n,i,o){var s=this;s.emitWithResp(s.events.DEL_ACROSS_GROUP_MEMBER,{gid:e.toString(),member_usernames:t},n,i,o)},l.getGroupMembers=function(e,t,n,i){var o=this;o.emitWithResp(o.events.GET_GROUP_MEMBERS,{gid:e.toString()},t,n,i)},l.updateGroupInfo=function(e,t,n,i,o,s){var r=this;r.emitWithResp(r.events.UPDATE_GROUP_INFO,{gid:e.toString(),group_name:t,group_description:n},i,o,s)},l.exitGroup=function(e,t,n,i){var o=this;o.emitWithResp(o.events.EXIT_GROUP,{gid:e.toString()},t,n,i)},l.getConversations=function(e,t,n){var i=this;i.emitWithResp(i.events.GET_CONVERSATIONS,{},e,t,n)},l.getNoDisturb=function(e,t,n){var i=this;i.emitWithResp(i.events.NO_DISTURB,{version:0},e,t,n)},l.addSingleNoDisturb=function(e,t,n,i){var o=this;o.emitWithResp(o.events.ADD_MSG_NO_DISTURB_SINGLE,{version:0,target_name:e},t,n,i)},l.deleteSingleNoDisturb=function(e,t,n,i){var o=this;o.emitWithResp(o.events.DELETE_MSG_NO_DISTURB_SINGLE,{version:0,target_name:e},t,n,i)},l.addGroupNoDisturb=function(e,t,n,i){var o=this;o.emitWithResp(o.events.ADD_MSG_NO_DISTURB_GROUP,{version:0,gid:e.toString()},t,n,i)},l.deleteGroupNoDisturb=function(e,t,n,i){var o=this;o.emitWithResp(o.events.DELETE_MSG_NO_DISTURB_GROUP,{version:0,gid:e.toString()},t,n,i)},l.addGlobalNoDisturb=function(e,t,n){var i=this;i.emitWithResp(i.events.ADD_MSG_NO_DISTURB_GLOBAL,{version:0,none:""},e,t,n)},l.deleteGlobalNoDisturb=function(e,t,n){var i=this;i.emitWithResp(i.events.DELETE_MSG_NO_DISTURB_GLOBAL,{version:0,none:""},e,t,n)},l.getBlackList=function(e,t,n){var i=this;i.emitWithResp(i.events.GET_BLACK_LIST,{},e,t,n)},l.addBlackList=function(e,t,n,i){var o=this;o.emitWithResp(o.events.ADD_BLACK_LIST,{member_usernames:e},t,n,i)},l.delBlackList=function(e,t,n,i){var o=this;o.emitWithResp(o.events.DEL_BLACK_LIST,{member_usernames:e},t,n,i)},l.loginOut=function(){if(!a)return console.error("必须执行login操作成功后才能执行此动作");var e=this;e.disconnect()},l.onMsgReceive=function(e){var t=this;t.on(t.events.MSG_SYNC,function(n){r&&console.log("消息同步:"+JSON.stringify(n)),n.messages.forEach(function(t){var n={};n.target_type=t.content.target_type,n.target_name=t.content.target_name,n.target_id=t.content.target_id,n.from_name=t.content.from_name,n.from_id=t.content.from_id,n.from_platform=t.content.from_platform,n.create_time=t.ctime_ms,n.msg_type=t.content.msg_type,n.msg_body=t.content.msg_body,n.msg_body.isFileUploaded&&delete n.msg_body.isFileUploaded,"image"==t.content.msg_type?n.msg_body.media_url=f+t.content.msg_body.media_id:"voice"==t.content.msg_type&&(n.msg_body.media_url=f+t.content.msg_body.media_id+".mp3"),0===t.msg_level?n.msg_level="normal":1===t.msg_level&&(n.msg_level="across",n.target_appkey=t.content.target_appkey,n.from_appkey=t.content.from_appkey),e&&e(n)});var i=[];Array.prototype.push.apply(i,n.messages.map(function(e){return{msg_id:e.msg_id,msg_type:e.msg_type,from_uid:e.from_uid,from_gid:e.from_gid}})),t.emitWithCallback(t.events.MSG_RECV,{messages:i})})},l.onDisconnect=function(e){},l.onEvent=function(e){var t=this;t.on(t.events.EVENT_NOTIFICATION,function(n){r&&console.log("事件同步 : "+JSON.stringify(n)),e&&e(n),t.emitWithCallback(t.events.EVENT_NOTIFICATION,{event_id:n.event_id,event_type:n.event_type,from_uid:n.from_uid,gid:n.gid})})},l.emitWithResp=function(e,t,n,i,o){if(!a)return console.error("必须执行login操作后能执行此动作");t.rid=m++,a.emit(e,t);var s=setTimeout(function(){o&&o(t),delete p[t.rid]},_);return p[t.rid]={data:t,time_out_task:s,ack_callback:i,resp_callback:n},t},l.emitWithCallback=function(e,t){return a?(t.rid=m++,void a.emit(e,t)):console.error("必须执行login操作成功后才能执行此动作")},l.on=function(){return a?void a.on.apply(a,arguments):console.error("必须执行login操作成功后才能进行此事件监听")},n.prototype.setType=function(e){return this.type=e,this},n.prototype.setAppkey=function(e){return this.appkey=e,this},n.prototype.setTarget=function(e,t){return this.target_id=e.toString(),this.target_name=t,this},n.prototype.setFromName=function(e){return this.from_name=e,this},n.prototype.setText=function(e,t){return this.msg_type="text",this.msg_body={text:e,extras:t},this},n.prototype.setImage=function(e){return this.msg_type="image",this.msg_body={media_id:e.media_id,media_crc32:e.media_crc32,width:e.width,height:e.height,format:e.format,fsize:e.fsize},this},n.prototype.setCustom=function(e){return this.msg_type="custom",this.msg_body=e,this},n.prototype.build=function(){var e=d.username;if(!e)return console.error("必须执行login操作后能执行此动作");if("single"!=this.type&&"group"!=this.type&&"across_single"!=this.type)return console.log("消息类型必须是single或group");if(!this.target_id)return console.error("target_id不能为空");if("text"==this.msg_type){if(!this.msg_body.text)return console.error("未设置文本消息内容")}else if("custom"==this.msg_type){if(!this.msg_body)return console.error("custom对象不能为空")}else if("voice"==this.msg_type){if(!this.msg_body.media_id)return console.error("未设置voice消息media_id字段");if(!this.msg_body.duration)return console.error("未设置voice消息duration字段");if(!this.msg_body.format)return console.error("未设置voice消息format字段");if(!this.msg_body.fsize)return console.error("未设置voice消息fsize字段")}else{if("image"!=this.msg_type)return console.error("请指定消息类型");if(!this.msg_body.media_id)return console.error("未设置image消息media_id字段");if(!this.msg_body.width)return console.error("未设置image消息width字段");if(!this.msg_body.height)return console.error("未设置image消息height字段")}var t={version:this.version,target_type:this.type,from_platform:this.from_platform,target_id:this.target_id,target_name:this.target_name,from_id:e,from_name:this.from_name,create_time:(new Date).getTime(),msg_type:this.msg_type,msg_body:this.msg_body};return this.appkey&&(t.target_appkey=this.appkey,t.from_appkey=this.from_appkey),t},n.prototype.send=function(e,t,n){var i=this.build();if(i){var o,s;"single"==i.target_type?(o=this.client.events.S_SINGLE_TEXT,s={target_name:i.target_id}):"across_single"==i.target_type?(o=this.client.events.S_ACROSS_SINGLE_TEXT,i.target_type="sigle",s={target_name:i.target_id,appkey:i.target_appkey}):(o=this.client.events.SEND_GROUP_MSG,s={target_gid:i.target_id}),r&&console.log(JSON.stringify(i)),s.content=i,this.client.emitWithResp(o,s,e,t,n)}},g}},{3:3}],2:[function(e,t,n){var i=e(1)();window.JIM=t.exports=new i},{1:1}],3:[function(e,t,n){"use strict";t.exports=function(){function e(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function t(e,t){return e<<t|e>>>32-t}function n(n,i,o,s,r,_){return e(t(e(e(i,n),e(s,_)),r),o)}function i(e,t,i,o,s,r,_){return n(t&i|~t&o,e,t,s,r,_)}function o(e,t,i,o,s,r,_){return n(t&o|i&~o,e,t,s,r,_)}function s(e,t,i,o,s,r,_){return n(t^i^o,e,t,s,r,_)}function r(e,t,i,o,s,r,_){return n(i^(t|~o),e,t,s,r,_)}function _(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;var _,c,u,a,g,f=1732584193,m=-271733879,p=-1732584194,d=271733878;for(_=0;_<t.length;_+=16)c=f,u=m,a=p,g=d,f=i(f,m,p,d,t[_],7,-680876936),d=i(d,f,m,p,t[_+1],12,-389564586),p=i(p,d,f,m,t[_+2],17,606105819),m=i(m,p,d,f,t[_+3],22,-1044525330),f=i(f,m,p,d,t[_+4],7,-176418897),d=i(d,f,m,p,t[_+5],12,1200080426),p=i(p,d,f,m,t[_+6],17,-1473231341),m=i(m,p,d,f,t[_+7],22,-45705983),f=i(f,m,p,d,t[_+8],7,1770035416),d=i(d,f,m,p,t[_+9],12,-1958414417),p=i(p,d,f,m,t[_+10],17,-42063),m=i(m,p,d,f,t[_+11],22,-1990404162),f=i(f,m,p,d,t[_+12],7,1804603682),d=i(d,f,m,p,t[_+13],12,-40341101),p=i(p,d,f,m,t[_+14],17,-1502002290),m=i(m,p,d,f,t[_+15],22,1236535329),f=o(f,m,p,d,t[_+1],5,-165796510),d=o(d,f,m,p,t[_+6],9,-1069501632),p=o(p,d,f,m,t[_+11],14,643717713),m=o(m,p,d,f,t[_],20,-373897302),f=o(f,m,p,d,t[_+5],5,-701558691),d=o(d,f,m,p,t[_+10],9,38016083),p=o(p,d,f,m,t[_+15],14,-660478335),m=o(m,p,d,f,t[_+4],20,-405537848),f=o(f,m,p,d,t[_+9],5,568446438),d=o(d,f,m,p,t[_+14],9,-1019803690),p=o(p,d,f,m,t[_+3],14,-187363961),m=o(m,p,d,f,t[_+8],20,1163531501),f=o(f,m,p,d,t[_+13],5,-1444681467),d=o(d,f,m,p,t[_+2],9,-51403784),p=o(p,d,f,m,t[_+7],14,1735328473),m=o(m,p,d,f,t[_+12],20,-1926607734),f=s(f,m,p,d,t[_+5],4,-378558),d=s(d,f,m,p,t[_+8],11,-2022574463),p=s(p,d,f,m,t[_+11],16,1839030562),m=s(m,p,d,f,t[_+14],23,-35309556),f=s(f,m,p,d,t[_+1],4,-1530992060),d=s(d,f,m,p,t[_+4],11,1272893353),p=s(p,d,f,m,t[_+7],16,-155497632),m=s(m,p,d,f,t[_+10],23,-1094730640),f=s(f,m,p,d,t[_+13],4,681279174),d=s(d,f,m,p,t[_],11,-358537222),p=s(p,d,f,m,t[_+3],16,-722521979),m=s(m,p,d,f,t[_+6],23,76029189),f=s(f,m,p,d,t[_+9],4,-640364487),d=s(d,f,m,p,t[_+12],11,-421815835),p=s(p,d,f,m,t[_+15],16,530742520),m=s(m,p,d,f,t[_+2],23,-995338651),f=r(f,m,p,d,t[_],6,-198630844),d=r(d,f,m,p,t[_+7],10,1126891415),p=r(p,d,f,m,t[_+14],15,-1416354905),m=r(m,p,d,f,t[_+5],21,-57434055),f=r(f,m,p,d,t[_+12],6,1700485571),d=r(d,f,m,p,t[_+3],10,-1894986606),p=r(p,d,f,m,t[_+10],15,-1051523),m=r(m,p,d,f,t[_+1],21,-2054922799),f=r(f,m,p,d,t[_+8],6,1873313359),d=r(d,f,m,p,t[_+15],10,-30611744),p=r(p,d,f,m,t[_+6],15,-1560198380),m=r(m,p,d,f,t[_+13],21,1309151649),f=r(f,m,p,d,t[_+4],6,-145523070),d=r(d,f,m,p,t[_+11],10,-1120210379),p=r(p,d,f,m,t[_+2],15,718787259),m=r(m,p,d,f,t[_+9],21,-343485551),f=e(f,c),m=e(m,u),p=e(p,a),d=e(d,g);return[f,m,p,d]}function c(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function a(e){return c(_(u(e),8*e.length))}function g(e,t){var n,i,o=u(e),s=[],r=[];for(s[15]=r[15]=void 0,o.length>16&&(o=_(o,8*e.length)),n=0;16>n;n+=1)s[n]=909522486^o[n],r[n]=1549556828^o[n];return i=_(s.concat(u(t)),512+8*t.length),c(_(r.concat(i),640))}function f(e){var t,n,i="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=i.charAt(t>>>4&15)+i.charAt(15&t);return o}function m(e){return unescape(encodeURIComponent(e))}function p(e){return a(m(e))}function d(e){return f(p(e))}function l(e,t){return g(m(e),m(t))}function E(e,t){return f(l(e,t))}function S(e,t,n){return t?n?l(t,e):E(t,e):n?p(e):d(e)}return S}},{}]},{},[2])(2)});